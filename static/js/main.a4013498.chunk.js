(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{20:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var o,l,a,i=n(0),s=n(17),u=n(2),r=(n(20),n(1)),c=function(){var e=Object(u.e)();return Object(r.jsxs)("div",{className:"home",children:[Object(r.jsx)("h1",{children:"Start game"}),Object(r.jsx)("button",{onClick:function(){return e.push("/play")},className:"startBtn",children:"Start"})]})},b=n(7),v=n(8),d=10,m=10;n(27);!function(e){e[e.none=0]="none",e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.bomb=9]="bomb"}(o||(o={})),function(e){e[e.open=0]="open",e[e.visible=1]="visible",e[e.flagged=2]="flagged"}(l||(l={})),function(e){e.smile="\ud83d\ude00",e.oh="\ud83d\ude2e",e.lost="\ud83d\ude35",e.won="\ud83d\ude0e"}(a||(a={}));var f=function(e,t,n){return{topLeftCell:t>0&&n>0?e[t-1][n-1]:null,topCell:t>0?e[t-1][n]:null,topRightCell:t>0&&n<m?e[t-1][n+1]:null,leftCell:n>0?e[t][n-1]:null,rightCell:n<m?e[t][n+1]:null,bottomLeftCell:t<9&&n>0?e[t+1][n-1]:null,bottomCell:t<9?e[t+1][n]:null,bottomrightCell:t<9&&n<9?e[t+1][n+1]:null}},j=function(){for(var e=[],t=0;t<d;t++){e.push([]);for(var n=0;n<m;n++)e[t].push({value:o.none,state:l.open})}for(var a=0,i=function(){var t=Math.floor(Math.random()*d),n=Math.floor(Math.random()*m);e[t][n].value!==o.bomb&&(e=e.map((function(e,l){return e.map((function(e,a){return t===l&&n===a?Object(b.a)(Object(b.a)({},e),{},{value:o.bomb}):e}))})),a++)};a<10;)i();for(var s=0;s<d;s++)for(var u=0;u<m;u++){var r=e[s][u];if(r.value!==o.bomb){var c=0,v=f(e,s,u),j=v.topLeftCell,p=v.topCell,h=v.topRightCell,O=v.leftCell,C=v.rightCell,g=v.bottomLeftCell,x=v.bottomCell,w=v.bottomrightCell;(null===j||void 0===j?void 0:j.value)===o.bomb&&c++,(null===p||void 0===p?void 0:p.value)===o.bomb&&c++,(null===h||void 0===h?void 0:h.value)===o.bomb&&c++,(null===O||void 0===O?void 0:O.value)===o.bomb&&c++,(null===C||void 0===C?void 0:C.value)===o.bomb&&c++,(null===g||void 0===g?void 0:g.value)===o.bomb&&c++,(null===x||void 0===x?void 0:x.value)===o.bomb&&c++,(null===w||void 0===w?void 0:w.value)===o.bomb&&c++,c>0&&(e[s][u]=Object(b.a)(Object(b.a)({},r),{},{value:c}))}}return e},p=function e(t,n,a){var i=t[n][a];if(i.state===l.visible||i.state===l.flagged)return t;var s=t.slice();s[n][a].state=l.visible;var u=f(t,n,a),r=u.topLeftCell,c=u.topCell,b=u.topRightCell,v=u.leftCell,d=u.rightCell,m=u.bottomLeftCell,j=u.bottomCell,p=u.bottomrightCell;return(null===r||void 0===r?void 0:r.state)===l.open&&r.value!==o.bomb&&(r.value===o.none?e(s,n-1,a-1):s[n-1][a-1].state=l.visible),(null===c||void 0===c?void 0:c.state)===l.open&&c.value!==o.bomb&&(c.value===o.none?e(s,n-1,a):s[n-1][a].state=l.visible),(null===b||void 0===b?void 0:b.state)===l.open&&b.value!==o.bomb&&(b.value===o.none?e(s,n-1,a+1):s[n-1][a+1].state=l.visible),(null===v||void 0===v?void 0:v.state)===l.open&&v.value!==o.bomb&&(v.value===o.none?e(s,n,a-1):s[n][a-1].state=l.visible),(null===d||void 0===d?void 0:d.state)===l.open&&d.value!==o.bomb&&(d.value===o.none?e(s,n,a+1):s[n][a+1].state=l.visible),(null===m||void 0===m?void 0:m.state)===l.open&&m.value!==o.bomb&&(m.value===o.none?e(s,n+1,a-1):s[n+1][a-1].state=l.visible),(null===j||void 0===j?void 0:j.state)===l.open&&j.value!==o.bomb&&(j.value===o.none?e(s,n+1,a):s[n+1][a].state=l.visible),(null===p||void 0===p?void 0:p.state)===l.open&&p.value!==o.bomb&&(p.value===o.none?e(s,n+1,a+1):s[n+1][a+1].state=l.visible),s},h=(n(28),function(e){var t=e.row,n=e.col,a=e.onClick,i=e.onContext,s=e.state,u=e.value,c=e.red;return Object(r.jsx)("div",{className:"button ".concat(s===l.visible?"visible":""," value-").concat(u," ").concat(c?"red":""),onClick:a(t,n),onContextMenu:i(t,n),children:s===l.visible?u===o.bomb?Object(r.jsx)("span",{role:"img",children:"\ud83d\udca3"}):u===o.none?null:u:s===l.flagged?Object(r.jsx)("span",{role:"img",children:"\u26f3\ufe0f"}):null})}),O=(n(29),function(e){var t=e.value,n=e.name;return Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"displayName",children:"bombCounter"===n?"Mines remain:":"Time:"}),Object(r.jsx)("div",{className:"numberDisplay",children:t<0?"-".concat(Math.abs(t).toString().padStart(2,"0")):t.toString().padStart(3,"0")})]})}),C=function(e){var t=e.bombCounter,n=e.face,o=e.time,l=e.setLive,a=e.setTime,i=e.setCells,s=e.setHasLost,u=e.setHasWon,c=e.setBombCounter;return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"header",children:[Object(r.jsx)(O,{value:t,name:"bombCounter"}),Object(r.jsx)("div",{className:"face",onClick:function(){l(!1),a(0),i(j()),s(!1),u(!1),c(0)},children:Object(r.jsx)("span",{role:"img",children:n})}),Object(r.jsx)(O,{value:o,name:"time"})]})})},g=function(){var e=Object(i.useState)(j()),t=Object(v.a)(e,2),n=t[0],s=t[1],u=Object(i.useState)(a.smile),c=Object(v.a)(u,2),f=c[0],O=c[1],g=Object(i.useState)(0),w=Object(v.a)(g,2),L=w[0],S=w[1],N=Object(i.useState)(!1),E=Object(v.a)(N,2),k=E[0],M=E[1],y=Object(i.useState)(10),B=Object(v.a)(y,2),H=B[0],I=B[1],R=Object(i.useState)(!1),T=Object(v.a)(R,2),D=T[0],J=T[1],W=Object(i.useState)(!1),Y=Object(v.a)(W,2),F=Y[0],G=Y[1];Object(i.useEffect)((function(){var e=function(){return O(a.oh)},t=function(){return O(a.smile)};return window.addEventListener("mousedown",e),window.addEventListener("mouseup",t),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mouseup",t)}}),[]),Object(i.useEffect)((function(){if(k&&L<999){var e=setInterval((function(){return S(L+1)}),1e3);return function(){return clearInterval(e)}}}),[k,L]),Object(i.useEffect)((function(){D&&(M(!1),O(a.lost))}),[D]),Object(i.useEffect)((function(){F&&(M(!1),O(a.won))}),[F]);var q=function(e,t){return function(){var a=n.slice(),i=a[e][t];if(!k){for(;i.value===o.bomb;)i=(a=j())[e][t];M(!0)}if(![l.flagged,l.visible].includes(i.state)){if(i.value===o.bomb)return J(!0),a[e][t].red=!0,a=A(),void s(a);i.value===o.none?a=p(a,e,t):a[e][t].state=l.visible;for(var u=!1,r=0;r<d;r++)for(var c=0;c<m;c++){var v=a[r][c];if(v.value!==o.bomb&&v.state===l.open){u=!0;break}}u||(a=a.map((function(e){return e.map((function(e){return e.value===o.bomb?Object(b.a)(Object(b.a)({},e),{},{state:l.flagged}):e}))})),G(!0)),s(a)}}},z=function(e,t){return function(o){if(o.preventDefault(),k){var a=n.slice(),i=n[e][t];i.state!==l.visible&&(i.state===l.open?(a[e][t].state=l.flagged,s(a),I(H-1)):i.state===l.flagged&&(a[e][t].state=l.open,s(a),I(H+1)))}}},A=function(){return n.slice().map((function(e){return e.map((function(e){return e.value===o.bomb?Object(b.a)(Object(b.a)({},e),{},{state:l.visible}):e}))}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{className:"title",children:"Minesweeper"}),Object(r.jsx)("div",{className:"gameState",children:x(f)}),Object(r.jsxs)("div",{className:"app",children:[Object(r.jsx)(C,{bombCounter:H,face:f,time:L,setLive:M,setTime:S,setCells:s,setHasLost:J,setHasWon:G,setBombCounter:I}),Object(r.jsx)("div",{className:"body",children:n.map((function(e,t){return e.map((function(e,n){return Object(r.jsx)(h,{state:e.state,value:e.value,row:t,col:n,onClick:q,onContext:z,red:e.red},"".concat(t," - ").concat(n))}))}))})]})]})};function x(e){switch(e){case a.oh:case a.smile:return"Game in progress";case a.won:return"You won!";case a.lost:return"You lost!"}}var w=function(){return Object(r.jsxs)(s.a,{children:[Object(r.jsx)(u.a,{exact:!0,path:"/",children:Object(r.jsx)(c,{})}),Object(r.jsx)(u.a,{exact:!0,path:"/play",children:Object(r.jsx)(g,{})})]})},L=n(18),S=n.n(L);n(33);S.a.render(Object(r.jsx)(w,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.a4013498.chunk.js.map